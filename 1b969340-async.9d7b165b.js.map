{"version":3,"sources":["src/pages/project/payment-schedule/detail/index.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { PageContainer, ProCard, ProDescriptions } from '@ant-design/pro-components';\r\nimport { Button, Spin, Tag, message } from 'antd';\r\nimport { history, useParams } from '@umijs/max';\r\n\r\ntype PaymentScheduleItem = {\r\n  id: number;\r\n  dot: string;\r\n  truongHop: string;\r\n  khoangCach: string;\r\n  macDinh: boolean;\r\n  nvTao: string;\r\n  ngayTao: string;\r\n  nvCapNhat: string;\r\n  ngayCapNhat: string;\r\n};\r\n\r\nconst MOCK: PaymentScheduleItem[] = [\r\n  {\r\n    id: 1,\r\n    dot: 'Đợt 1',\r\n    truongHop: 'Thanh toán theo tiến độ',\r\n    khoangCach: '30 ngày',\r\n    macDinh: true,\r\n    nvTao: 'Nguyễn A',\r\n    ngayTao: '2025-05-01',\r\n    nvCapNhat: 'Trần B',\r\n    ngayCapNhat: '2025-05-10',\r\n  },\r\n];\r\n\r\nasync function fetchById(id: number) {\r\n  await new Promise((r) => setTimeout(r, 200));\r\n  return MOCK.find((x) => x.id === id) ?? null;\r\n}\r\n\r\nconst PaymentScheduleDetail: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const scheduleId = useMemo(() => Number(id), [id]);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [item, setItem] = useState<PaymentScheduleItem | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchById(scheduleId).then((res) => {\r\n      if (!res) {\r\n        message.error('Không tìm thấy');\r\n        history.push('/project/payment-schedule');\r\n      } else {\r\n        setItem(res);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  }, [scheduleId]);\r\n\r\n  return (\r\n    <PageContainer\r\n      title=\"Chi tiết lịch thanh toán\"\r\n      onBack={() => history.push('/project/payment-schedule')}\r\n      extra={[\r\n        <Button key=\"edit\" type=\"primary\" onClick={() => history.push(`/project/payment-schedule/${scheduleId}/edit`)}>\r\n          Sửa\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <Spin spinning={loading}>\r\n        {item && (\r\n          <ProCard>\r\n            <ProDescriptions column={2} dataSource={item} columns={[\r\n              { title: 'Đợt', dataIndex: 'dot' },\r\n              { title: 'Trường hợp', dataIndex: 'truongHop' },\r\n              { title: 'Khoảng cách', dataIndex: 'khoangCach' },\r\n              {\r\n                title: 'Mặc định',\r\n                dataIndex: 'macDinh',\r\n                render: (_, r) => <Tag color={r.macDinh ? 'green' : 'default'}>{r.macDinh ? 'Yes' : 'No'}</Tag>,\r\n              },\r\n              { title: 'Nhân viên tạo', dataIndex: 'nvTao' },\r\n              { title: 'Ngày tạo', dataIndex: 'ngayTao' },\r\n              { title: 'Nhân viên cập nhật', dataIndex: 'nvCapNhat' },\r\n              { title: 'Ngày cập nhật', dataIndex: 'ngayCapNhat' },\r\n            ]} />\r\n          </ProCard>\r\n        )}\r\n      </Spin>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default PaymentScheduleDetail;\r\n"],"names":[],"mappings":"iQAyFA,+CAAA,8CAzFoD,oJAGjB,YAcnC,IAAM,EAA8B,CAClC,CACE,GAAI,EACJ,IAAK,kBACL,UAAW,4CACX,WAAY,aACZ,QAAS,CAAA,EACT,MAAO,gBACP,QAAS,aACT,UAAW,cACX,YAAa,YACf,EACD,CAED,eAAe,EAAU,CAAU,EAEjC,OADA,MAAM,IAAI,QAAQ,AAAC,GAAM,WAAW,EAAG,MAChC,EAAK,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,IAAO,KAC1C,KAuDA,EArDwC,KACtC,GAAM,CAAE,GAAA,CAAE,CAAE,CAAG,GAAA,WAAS,IAClB,EAAa,GAAA,SAAO,EAAC,IAAM,OAAO,GAAK,CAAC,EAAG,EAE3C,CAAC,EAAS,EAAW,CAAG,GAAA,UAAQ,EAAC,CAAA,GACjC,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAA6B,MAc7D,MAZA,GAAA,WAAS,EAAC,KACR,EAAU,GAAY,IAAI,CAAC,AAAC,IACrB,EAIH,EAAQ,IAHR,SAAO,CAAC,KAAK,CAAC,6BACd,SAAO,CAAC,IAAI,CAAC,8BAIf,EAAW,CAAA,GACb,GACF,EAAG,CAAC,EAAW,EAGb,UAAC,eAAa,EACZ,MAAM,wCACN,OAAQ,IAAM,SAAO,CAAC,IAAI,CAAC,6BAC3B,MAAO,CACL,UAAC,SAAM,EAAY,KAAK,UAAU,QAAS,IAAM,SAAO,CAAC,IAAI,CAAC,CAAC,0BAA0B,EAAE,EAAW,KAAK,CAAC,WAAG,YAAnG,QAGb,UAED,UAAC,SAAI,EAAC,SAAU,WACb,GACC,UAAC,SAAO,WACN,UAAC,iBAAe,EAAC,OAAQ,EAAG,WAAY,EAAM,QAAS,CACrD,CAAE,MAAO,gBAAO,UAAW,KAAM,EACjC,CAAE,MAAO,4BAAc,UAAW,WAAY,EAC9C,CAAE,MAAO,sBAAe,UAAW,YAAa,EAChD,CACE,MAAO,0BACP,UAAW,UACX,OAAQ,CAAC,EAAG,IAAM,UAAC,SAAG,EAAC,MAAO,EAAE,OAAO,CAAG,QAAU,mBAAY,EAAE,OAAO,CAAG,MAAQ,MACtF,EACA,CAAE,MAAO,2BAAiB,UAAW,OAAQ,EAC7C,CAAE,MAAO,mBAAY,UAAW,SAAU,EAC1C,CAAE,MAAO,qCAAsB,UAAW,WAAY,EACtD,CAAE,MAAO,6BAAiB,UAAW,aAAc,EACpD,SAMb"}