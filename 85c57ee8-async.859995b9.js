(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["85c57ee8"],{"54e243ee":function(e,n,a){"use strict";a.d(n,"__esModule",{value:!0}),a.d(n,"default",{enumerable:!0,get:function(){return T;}});var t=a("777fffbe"),l=a("ac2d6f77"),r=a("0b255778"),u=a("03ea68ce"),i=a("f91cbf90"),o=a("f4d80f47"),s=t._(a("386aa2c4")),d=t._(a("db613f5e")),h=t._(a("3068caf2")),f=t._(a("9ba70bb0")),c=t._(a("cb1f3ec5")),g=t._(a("8b8ca8a3")),y=a("7a62f699"),m=t._(a("7d84ba1c"));let p=[{id:1,duAn:"D\u1EF1 \xe1n A",tenChuongTrinh:"KM M\xf9a h\xe8",tenQuaTang:"Voucher 100k",keHoachBanHang:"B\xe1n tr\u1EF1c ti\u1EBFp, online",tuNGay:"2025-06-01",denNgay:"2025-06-30",tyLe:"10%",tienMat:"100000",nhanVienTao:"Nguy\u1EC5n A",ngayTao:"2025-05-20",nhanVienCapNhat:"Tr\u1EA7n B",ngayCapNhat:"2025-05-25"}];async function b(e){return await new Promise(e=>setTimeout(e,200)),p.find(n=>n.id===e)??null;}async function N(e,n){return await new Promise(e=>setTimeout(e,200)),console.log("Update promotion",{id:e,payload:n}),!0;}var T=()=>{let e=(0,y.useParams)(),n=(0,r.useMemo)(()=>Number(e.id),[e.id]),[a,t]=(0,r.useState)(!0),[p,T]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=!1;return(async()=>{if(!Number.isFinite(n)){g.default.error("ID kh\xf4ng h\u1EE3p l\u1EC7"),y.history.push("/project/promotions");return;}t(!0);try{let a=await b(n);if(e)return;if(!a){g.default.warning("Kh\xf4ng t\xecm th\u1EA5y ch\u01B0\u01A1ng tr\xecnh"),y.history.push("/project/promotions");return;}T({...a,tuNGay:(0,m.default)(a.tuNGay),denNgay:(0,m.default)(a.denNgay)});}catch{e||g.default.error("L\u1ED7i t\u1EA3i d\u1EEF li\u1EC7u");}finally{e||t(!1);}})(),()=>{e=!0;};},[n]);let j=async e=>{let a={...e,tuNGay:e.tuNGay.format("YYYY-MM-DD"),denNgay:e.denNgay.format("YYYY-MM-DD")};return await N(n,a),g.default.success("C\u1EADp nh\u1EADt th\xe0nh c\xf4ng"),y.history.push(`/project/promotions/${n}`),!0;};return(0,l.jsx)(u.PageContainer,{title:"S\u1EEDa ch\u01B0\u01A1ng tr\xecnh",onBack:()=>y.history.push(`/project/promotions/${n}`),children:(0,l.jsx)(c.default,{spinning:a,children:p&&(0,l.jsx)(i.ProCard,{children:(0,l.jsxs)(o.ProForm,{layout:"vertical",grid:!0,colProps:{span:12},initialValues:p,onFinish:j,children:[(0,l.jsx)(d.default,{name:"duAn",label:"D\u1EF1 \xe1n",valueEnum:{"D\u1EF1 \xe1n A":{text:"D\u1EF1 \xe1n A"},"D\u1EF1 \xe1n B":{text:"D\u1EF1 \xe1n B"}}}),(0,l.jsx)(h.default,{name:"tenChuongTrinh",label:"T\xean ch\u01B0\u01A1ng tr\xecnh",rules:[{required:!0}]}),(0,l.jsx)(h.default,{name:"tenQuaTang",label:"Qu\xe0 t\u1EB7ng"}),(0,l.jsx)(f.default,{name:"keHoachBanHang",label:"K\u1EBF ho\u1EA1ch b\xe1n h\xe0ng",colProps:{span:24}}),(0,l.jsx)(s.default,{name:"tuNGay",label:"T\u1EEB ng\xe0y"}),(0,l.jsx)(s.default,{name:"denNgay",label:"\u0110\u1EBFn ng\xe0y"}),(0,l.jsx)(h.default,{name:"tyLe",label:"T\u1EF7 l\u1EC7"}),(0,l.jsx)(h.default,{name:"tienMat",label:"Ti\u1EC1n m\u1EB7t"})]})})})});};}}]);
//# sourceMappingURL=85c57ee8-async.859995b9.js.map